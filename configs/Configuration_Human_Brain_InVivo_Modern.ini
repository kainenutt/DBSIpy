[INPUT]
dwi_file = 
mask_file = 
bval_file = 
bvec_file = 

[OPTIMIZER]
step_1_lr = 0.001
step_1_epochs = 50
step_1_loss_fn = mse
step_2_lr = 0.001
step_2_epochs = 100
step_2_loss_fn = mse

[DEBUG]
verbose = True

[GLOBAL]
max_group_number = 1
fiber_threshold = 0.04
model_engine = IA
; model_engine options: DBSI, IA, DTI, or NODDI
; For NODDI analysis, set model_engine = NODDI and configure [NODDI] section below
; For DTI-only analysis, set model_engine = DTI and configure [DTI] section below
; output_map_set: which parameter-map set(s) to allocate + save
;   Options: default | expanded (legacy: both)
;   Default: both (preserves legacy behavior)
;   Tip: use 'default' to reduce output files and save time
output_map_set = default
; dti_bval_cut: Maximum b-value (s/mmÂ²) for DTI fitting (for comparison)
;   Default: 1500 (standard low-b DTI cutoff)
;   Higher values include additional shells; 15000 uses all b-values (nonstandard for DTI)
dti_bval_cut = 1500
; signal_normalization: how to scale the DWI prior to fitting
;   Options: auto | max | b0 | minb | none
;   auto => DBSI/IA/NODDI: max (attenuation); DTI: none (raw)
signal_normalization = auto
; learnable_s0: when True (DBSI/IA only), Step 2 can fit a voxelwise S0 scaling on raw signal
learnable_s0 = False

[STEP_1]
angle_threshold = 40
angle_basis = BasisSets/Human_Brain_InVivo_Modern/angle_basis.csv
iso_basis = BasisSets/Human_Brain_InVivo_Modern/iso_basis.csv
step_1_axial = 0.002
step_1_radial = 0.0001

[STEP_2]
step_2_axials = BasisSets/Human_Brain_InVivo_Modern/axial_basis.csv
step_2_radials = BasisSets/Human_Brain_InVivo_Modern/radial_basis.csv
intra_threshold = 0.0001

[ISOTROPIC]
highly_restricted_threshold = 
restricted_threshold = 3e-4
free_water_threshold = 3e-3

[DTI]
; dti_fit_method: WLS | OLS | ADAM
;   WLS/OLS are fast linear fits.
;   ADAM runs an iterative optimizer (uses dti_lr and dti_epochs below).
dti_fit_method = WLS
; dti_lr: ADAM learning rate (ignored for WLS/OLS)
dti_lr = 0.01
; dti_epochs: ADAM epochs (ignored for WLS/OLS)
dti_epochs = 200

[DEVICE]
# Compute device selection
# - auto: use cuda if available else cpu
# - cuda: request GPU (falls back to cpu if unavailable)
# - cpu: force CPU
DEVICE = auto
HOST = cpu
