[INPUT]
dwi_file = 
mask_file = 
bval_file = 
bvec_file = 

[OPTIMIZER]
step_1_lr = 0.001
step_1_epochs = 500
step_1_loss_fn = mse
step_2_lr = 0.001
step_2_epochs = 2500
step_2_loss_fn = mse

[DEBUG]
verbose = False

[GLOBAL]
max_group_number = 1
fiber_threshold = 0.04
model_engine = DBSI
; model_engine options: DBSI, IA, DTI, or NODDI
; For DTI-only analysis, set model_engine = DTI and configure [DTI] section below
; output_map_set: which parameter-map set(s) to allocate + save
;   Options: default | expanded (legacy: both)
;   Default: both (preserves legacy behavior)
;   Tip: use 'default' to reduce output files and save time
output_map_set = default
dti_bval_cut = 1500
; signal_normalization: how to scale the DWI prior to fitting
;   Options: auto | max | b0 | minb | none
;   auto => DBSI/IA/NODDI: max (attenuation); DTI: none (raw)
signal_normalization = auto
; learnable_s0: when True (DBSI/IA only), Step 2 can fit a voxelwise S0 scaling on raw signal
learnable_s0 = False

[STEP_1]
angle_threshold = 40
angle_basis = BasisSets/Mouse_Brain_ExVivo/angle_basis.csv
iso_basis = BasisSets/Mouse_Brain_ExVivo/iso_basis.csv
step_1_axial = 0.0020
step_1_radial = 0.0001

[STEP_2]
step_2_axials = BasisSets/Mouse_Brain_ExVivo/axial_basis.csv
step_2_radials = BasisSets/Mouse_Brain_ExVivo/radial_basis.csv
intra_threshold = 0.0001

[ISOTROPIC]
highly_restricted_threshold = 3e-4
restricted_threshold = 6e-4
free_water_threshold = 3e-3

[DEVICE]
DEVICE = auto
HOST = cpu

[DTI]
; dti_fit_method: WLS | OLS | ADAM
;   WLS/OLS are fast linear fits.
;   ADAM runs an iterative optimizer (uses dti_lr and dti_epochs below).
dti_fit_method = WLS
; dti_lr: ADAM learning rate (ignored for WLS/OLS)
dti_lr = 0.01
; dti_epochs: ADAM epochs (ignored for WLS/OLS)
dti_epochs = 200
